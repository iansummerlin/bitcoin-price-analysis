# Changelog

👍 - improvement
😐 - neutral
👎 - thumbs down


                               SARIMAX Results                                
==============================================================================
Dep. Variable:                  close   No. Observations:                47767
Model:                 ARIMA(5, 1, 5)   Log Likelihood             -310776.594
Date:                Sat, 30 Nov 2024   AIC                         621595.188
Time:                        13:46:08   BIC                         621779.444
Sample:                             0   HQIC                        621653.028
                              - 47767                                         
Covariance Type:                  opg                                         
========================================================================================
                           coef    std err          z      P>|z|      [0.025      0.975]
----------------------------------------------------------------------------------------
close_lag_90             0.0029      0.001      2.155      0.031       0.000       0.006
close_lag_120           -0.0058      0.001     -4.706      0.000      -0.008      -0.003
MA_7                     0.9489      0.005    208.724      0.000       0.940       0.958
MA_24                    0.0541      0.005     11.070      0.000       0.044       0.064
rsi                     11.1134      0.097    115.109      0.000      10.924      11.303
volatility_24           -0.1009      0.015     -6.687      0.000      -0.130      -0.071
volatility_ewma_24      -0.0225      0.014     -1.631      0.103      -0.050       0.005
parkinson_volatility -1576.5108     58.213    -27.082      0.000   -1690.607   -1462.415
atr_24                   0.2239      0.012     18.350      0.000       0.200       0.248
fng_value               -1.6987      0.202     -8.398      0.000      -2.095      -1.302
ar.L1                   -0.0741      0.013     -5.675      0.000      -0.100      -0.049
ar.L2                    0.6110      0.008     76.278      0.000       0.595       0.627
ar.L3                   -0.2100      0.013    -16.346      0.000      -0.235      -0.185
ar.L4                   -0.5213      0.006    -80.849      0.000      -0.534      -0.509
ar.L5                    0.4355      0.009     50.037      0.000       0.418       0.453
ma.L1                   -0.1148      0.013     -9.103      0.000      -0.140      -0.090
ma.L2                   -0.7410      0.008    -93.359      0.000      -0.757      -0.725
ma.L3                    0.1471      0.015     10.012      0.000       0.118       0.176
ma.L4                    0.3404      0.009     38.460      0.000       0.323       0.358
ma.L5                   -0.6304      0.009    -69.409      0.000      -0.648      -0.613
sigma2                2.775e+04     73.714    376.457      0.000    2.76e+04    2.79e+04
===================================================================================
Ljung-Box (L1) (Q):                  59.10   Jarque-Bera (JB):           1654788.63
Prob(Q):                              0.00   Prob(JB):                         0.00
Heteroskedasticity (H):               4.37   Skew:                            -0.04
Prob(H) (two-sided):                  0.00   Kurtosis:                        31.83
===================================================================================

RMSE: 347.9007019257824
MAE: 218.56113259231762

## Changelog entries

- 30/11/2024 14:41 - 👍👍👍 used the grid search method for fine tuning the arima model parameters.
This SIGNIFICANTLY improved the size of the errors.

                               SARIMAX Results                                
==============================================================================
Dep. Variable:                  close   No. Observations:                47767
Model:                 ARIMA(5, 1, 5)   Log Likelihood             -310776.594
Date:                Sat, 30 Nov 2024   AIC                         621595.188
Time:                        13:46:08   BIC                         621779.444
Sample:                             0   HQIC                        621653.028
                              - 47767                                         
Covariance Type:                  opg                                         
========================================================================================
                           coef    std err          z      P>|z|      [0.025      0.975]
----------------------------------------------------------------------------------------
close_lag_90             0.0029      0.001      2.155      0.031       0.000       0.006
close_lag_120           -0.0058      0.001     -4.706      0.000      -0.008      -0.003
MA_7                     0.9489      0.005    208.724      0.000       0.940       0.958
MA_24                    0.0541      0.005     11.070      0.000       0.044       0.064
rsi                     11.1134      0.097    115.109      0.000      10.924      11.303
volatility_24           -0.1009      0.015     -6.687      0.000      -0.130      -0.071
volatility_ewma_24      -0.0225      0.014     -1.631      0.103      -0.050       0.005
parkinson_volatility -1576.5108     58.213    -27.082      0.000   -1690.607   -1462.415
atr_24                   0.2239      0.012     18.350      0.000       0.200       0.248
fng_value               -1.6987      0.202     -8.398      0.000      -2.095      -1.302
ar.L1                   -0.0741      0.013     -5.675      0.000      -0.100      -0.049
ar.L2                    0.6110      0.008     76.278      0.000       0.595       0.627
ar.L3                   -0.2100      0.013    -16.346      0.000      -0.235      -0.185
ar.L4                   -0.5213      0.006    -80.849      0.000      -0.534      -0.509
ar.L5                    0.4355      0.009     50.037      0.000       0.418       0.453
ma.L1                   -0.1148      0.013     -9.103      0.000      -0.140      -0.090
ma.L2                   -0.7410      0.008    -93.359      0.000      -0.757      -0.725
ma.L3                    0.1471      0.015     10.012      0.000       0.118       0.176
ma.L4                    0.3404      0.009     38.460      0.000       0.323       0.358
ma.L5                   -0.6304      0.009    -69.409      0.000      -0.648      -0.613
sigma2                2.775e+04     73.714    376.457      0.000    2.76e+04    2.79e+04
===================================================================================
Ljung-Box (L1) (Q):                  59.10   Jarque-Bera (JB):           1654788.63
Prob(Q):                              0.00   Prob(JB):                         0.00
Heteroskedasticity (H):               4.37   Skew:                            -0.04
Prob(H) (two-sided):                  0.00   Kurtosis:                        31.83
===================================================================================

RMSE: 347.9007019257824
MAE: 218.56113259231762

- 29/11/2024 21:29 - 👍 included the sharpe ratio calculation, this has improved errors again

                               SARIMAX Results                                
==============================================================================
Dep. Variable:                  close   No. Observations:                47709
Model:                 ARIMA(5, 1, 0)   Log Likelihood             -312804.733
Date:                Fri, 29 Nov 2024   AIC                         625643.466
Time:                        21:27:16   BIC                         625792.605
Sample:                             0   HQIC                        625690.285
                              - 47709                                         
Covariance Type:                  opg                                         
========================================================================================
                           coef    std err          z      P>|z|      [0.025      0.975]
----------------------------------------------------------------------------------------
close_lag_90             0.0073      0.002      3.656      0.000       0.003       0.011
close_lag_120            0.0087      0.002      4.391      0.000       0.005       0.013
MA_7                     0.7942      0.005    163.490      0.000       0.785       0.804
MA_24                    0.1326      0.008     16.198      0.000       0.117       0.149
rsi                     11.0630      0.090    122.998      0.000      10.887      11.239
volatility_24            0.0782      0.016      4.775      0.000       0.046       0.110
volatility_ewma_24      -0.4295      0.015    -28.239      0.000      -0.459      -0.400
parkinson_volatility -1576.4276     68.116    -23.143      0.000   -1709.933   -1442.923
atr_24                   0.7497      0.023     32.098      0.000       0.704       0.795
fng_value               -1.7108      0.351     -4.871      0.000      -2.399      -1.022
sharpe_ratio                  0   2.76e-06          0      1.000   -5.41e-06    5.41e-06
ar.L1                   -0.0565      0.002    -29.740      0.000      -0.060      -0.053
ar.L2                   -0.0734      0.002    -37.439      0.000      -0.077      -0.070
ar.L3                   -0.0732      0.002    -35.221      0.000      -0.077      -0.069
ar.L4                   -0.1206      0.002    -61.746      0.000      -0.124      -0.117
ar.L5                   -0.1166      0.002    -54.961      0.000      -0.121      -0.112
sigma2                2.908e+04     68.319    425.611      0.000    2.89e+04    2.92e+04
===================================================================================
Ljung-Box (L1) (Q):                  12.22   Jarque-Bera (JB):           1452062.88
Prob(Q):                              0.00   Prob(JB):                         0.00
Heteroskedasticity (H):               5.25   Skew:                             0.32
Prob(H) (two-sided):                  0.00   Kurtosis:                        30.02
===================================================================================

RMSE: 1574.23416401378
MAE: 1274.214607867525

- 29/11/2024 19:52 - 👍 included the bitcoin fear and greed index value and classifications as features,
this has improved the RMSE and MAE errors quite considerably

                               SARIMAX Results                                
==============================================================================
Dep. Variable:                  close   No. Observations:                47709
Model:                 ARIMA(5, 1, 0)   Log Likelihood             -312850.836
Date:                Fri, 29 Nov 2024   AIC                         625735.673
Time:                        19:51:40   BIC                         625884.811
Sample:                             0   HQIC                        625782.492
                              - 47709                                         
Covariance Type:                  opg                                         
==============================================================================================
                                 coef    std err          z      P>|z|      [0.025      0.975]
----------------------------------------------------------------------------------------------
close_lag_90                   0.0074      0.002      3.702      0.000       0.003       0.011
close_lag_120                  0.0085      0.002      4.275      0.000       0.005       0.012
MA_7                           0.7944      0.005    162.702      0.000       0.785       0.804
MA_24                          0.1255      0.008     15.373      0.000       0.110       0.142
rsi                           11.0825      0.090    123.141      0.000      10.906      11.259
volatility_24                  0.0903      0.016      5.521      0.000       0.058       0.122
volatility_ewma_24            -0.4378      0.015    -29.081      0.000      -0.467      -0.408
parkinson_volatility       -1.265e+05   1.29e+04     -9.777      0.000   -1.52e+05   -1.01e+05
atr_24                         0.6827      0.026     26.708      0.000       0.633       0.733
fng_value                     -1.6651      0.367     -4.538      0.000      -2.384      -0.946
fng_classification_encoded    -1.8045      3.805     -0.474      0.635      -9.263       5.654
ar.L1                         -0.0543      0.002    -28.778      0.000      -0.058      -0.051
ar.L2                         -0.0733      0.002    -38.185      0.000      -0.077      -0.070
ar.L3                         -0.0730      0.002    -35.318      0.000      -0.077      -0.069
ar.L4                         -0.1205      0.002    -61.673      0.000      -0.124      -0.117
ar.L5                         -0.1170      0.002    -55.380      0.000      -0.121      -0.113
sigma2                      2.913e+04     68.593    424.740      0.000     2.9e+04    2.93e+04
===================================================================================
Ljung-Box (L1) (Q):                  12.29   Jarque-Bera (JB):           1417826.37
Prob(Q):                              0.00   Prob(JB):                         0.00
Heteroskedasticity (H):               5.29   Skew:                             0.21
Prob(H) (two-sided):                  0.00   Kurtosis:                        29.70
===================================================================================

RMSE: 1779.903422665475
MAE: 1447.9092985885645

- 29/11/2024 00:43 - 👍 including the rsi as a feature reduced the RMSE and MAE even further.

                               SARIMAX Results                                
==============================================================================
Dep. Variable:                  close   No. Observations:                63948
Model:                 ARIMA(5, 1, 0)   Log Likelihood             -412630.576
Date:                Fri, 29 Nov 2024   AIC                         825291.152
Time:                        00:43:17   BIC                         825427.140
Sample:                             0   HQIC                        825333.268
                              - 63948                                         
Covariance Type:                  opg                                         
========================================================================================
                           coef    std err          z      P>|z|      [0.025      0.975]
----------------------------------------------------------------------------------------
close_lag_90             0.0097      0.002      6.209      0.000       0.007       0.013
close_lag_120            0.0090      0.002      5.871      0.000       0.006       0.012
MA_7                     0.8807      0.004    238.809      0.000       0.873       0.888
MA_24                    0.0214      0.006      3.442      0.001       0.009       0.034
rsi                      7.3399      0.063    116.149      0.000       7.216       7.464
volatility_24            0.1067      0.013      8.378      0.000       0.082       0.132
volatility_ewma_24      -0.4535      0.012    -38.572      0.000      -0.476      -0.430
parkinson_volatility -1473.5792   2174.678     -0.678      0.498   -5735.869    2788.711
atr_24                   0.5947      0.016     38.178      0.000       0.564       0.625
ar.L1                   -0.0528      0.001    -36.758      0.000      -0.056      -0.050
ar.L2                   -0.0766      0.001    -52.438      0.000      -0.079      -0.074
ar.L3                   -0.0784      0.002    -50.021      0.000      -0.081      -0.075
ar.L4                   -0.1270      0.001    -85.988      0.000      -0.130      -0.124
ar.L5                   -0.1245      0.002    -77.533      0.000      -0.128      -0.121
sigma2                2.363e+04     41.511    569.345      0.000    2.36e+04    2.37e+04
===================================================================================
Ljung-Box (L1) (Q):                  22.34   Jarque-Bera (JB):           3148996.90
Prob(Q):                              0.00   Prob(JB):                         0.00
Heteroskedasticity (H):               9.22   Skew:                             0.24
Prob(H) (two-sided):                  0.00   Kurtosis:                        37.37
===================================================================================

RMSE: 2329.114666150084
MAE: 1787.8414980996556

- 29/11/2024 00:27 - 👍 including more features for volatility (volatility_ewma_24, parkinson_volatility, atr_24). This dropped the RMSE and MAE 
quite considerably

                               SARIMAX Results                                
==============================================================================
Dep. Variable:                  close   No. Observations:                63958
Model:                 ARIMA(5, 1, 0)   Log Likelihood             -416532.154
Date:                Fri, 29 Nov 2024   AIC                         833092.309
Time:                        00:26:21   BIC                         833219.232
Sample:                             0   HQIC                        833131.617
                              - 63958                                         
Covariance Type:                  opg                                         
========================================================================================
                           coef    std err          z      P>|z|      [0.025      0.975]
----------------------------------------------------------------------------------------
close_lag_90             0.0098      0.002      5.985      0.000       0.007       0.013
close_lag_120            0.0090      0.002      5.588      0.000       0.006       0.012
MA_7                     1.0494      0.004    289.080      0.000       1.042       1.057
MA_24                   -0.1820      0.006    -29.298      0.000      -0.194      -0.170
volatility_24            0.1023      0.013      7.832      0.000       0.077       0.128
volatility_ewma_24      -0.4048      0.012    -33.052      0.000      -0.429      -0.381
parkinson_volatility -1069.1422   8619.366     -0.124      0.901    -1.8e+04    1.58e+04
atr_24                   0.5745      0.019     29.565      0.000       0.536       0.613
ar.L1                   -0.0578      0.001    -40.326      0.000      -0.061      -0.055
ar.L2                   -0.0861      0.001    -58.524      0.000      -0.089      -0.083
ar.L3                   -0.0882      0.002    -56.632      0.000      -0.091      -0.085
ar.L4                   -0.1411      0.001    -96.310      0.000      -0.144      -0.138
ar.L5                   -0.1434      0.002    -89.650      0.000      -0.147      -0.140
sigma2                2.668e+04     38.743    688.579      0.000    2.66e+04    2.68e+04
===================================================================================
Ljung-Box (L1) (Q):                  42.84   Jarque-Bera (JB):           2911847.29
Prob(Q):                              0.00   Prob(JB):                         0.00
Heteroskedasticity (H):              15.31   Skew:                             0.20
Prob(H) (two-sided):                  0.00   Kurtosis:                        36.05
===================================================================================

RMSE: 3280.8462710124886
MAE: 2517.0448989150655

- 28/11/2024 01:24 - 😐 changed how I setup the training and testing of the model as I think it was slightly incorrect.
On first glance it hasn't made a difference. Will analyse further

                                   SARIMAX Results                                
==============================================================================
Dep. Variable:                  close   No. Observations:                63961
Model:                 ARIMA(5, 1, 0)   Log Likelihood             -416618.225
Date:                Thu, 28 Nov 2024   AIC                         833258.449
Time:                        01:23:56   BIC                         833358.175
Sample:                             0   HQIC                        833289.334
                              - 63961                                         
Covariance Type:                  opg                                         
=================================================================================
                    coef    std err          z      P>|z|      [0.025      0.975]
---------------------------------------------------------------------------------
close_lag_90      0.0098      0.002      5.994      0.000       0.007       0.013
close_lag_120     0.0090      0.002      5.614      0.000       0.006       0.012
MA_7              1.0439      0.004    287.446      0.000       1.037       1.051
MA_24            -0.1990      0.006    -32.808      0.000      -0.211      -0.187
volatility_24    -0.1094      0.005    -20.299      0.000      -0.120      -0.099
ar.L1            -0.0605      0.001    -42.788      0.000      -0.063      -0.058
ar.L2            -0.0871      0.001    -59.952      0.000      -0.090      -0.084
ar.L3            -0.0889      0.002    -57.609      0.000      -0.092      -0.086
ar.L4            -0.1418      0.001    -98.653      0.000      -0.145      -0.139
ar.L5            -0.1435      0.002    -90.338      0.000      -0.147      -0.140
sigma2         2.673e+04     38.611    692.236      0.000    2.67e+04    2.68e+04
===================================================================================
Ljung-Box (L1) (Q):                  43.03   Jarque-Bera (JB):           2933515.31
Prob(Q):                              0.00   Prob(JB):                         0.00
Heteroskedasticity (H):              15.30   Skew:                             0.25
Prob(H) (two-sided):                  0.00   Kurtosis:                        36.17
===================================================================================

RMSE: 3966.7785191557227
MAE: 3044.815842480597

- 28/11/2024 00:55 - 👎 changed closing lag 90 to 24. The reason for this is because the 90 and 120 hour values 
could be too closly correlated. The RMSE and RAE seemed to get worse so I will keep 90 and 120. I will focus on 
more sophisticated volatility calculations at the moment.

                              SARIMAX Results                                
==============================================================================
Dep. Variable:                  close   No. Observations:                63961
Model:                 ARIMA(5, 1, 0)   Log Likelihood             -416600.697
Date:                Thu, 28 Nov 2024   AIC                         833223.393
Time:                        00:54:13   BIC                         833323.120
Sample:                             0   HQIC                        833254.279
                              - 63961                                         
Covariance Type:                  opg                                         
=================================================================================
                    coef    std err          z      P>|z|      [0.025      0.975]
---------------------------------------------------------------------------------
close_lag_24     -0.0231      0.001    -15.811      0.000      -0.026      -0.020
close_lag_120     0.0091      0.002      5.660      0.000       0.006       0.012
MA_7              1.0398      0.004    284.548      0.000       1.033       1.047
MA_24            -0.1889      0.006    -30.704      0.000      -0.201      -0.177
volatility_24    -0.1079      0.005    -20.002      0.000      -0.118      -0.097
ar.L1            -0.0604      0.001    -42.742      0.000      -0.063      -0.058
ar.L2            -0.0866      0.001    -59.450      0.000      -0.089      -0.084
ar.L3            -0.0882      0.002    -57.136      0.000      -0.091      -0.085
ar.L4            -0.1407      0.001    -97.776      0.000      -0.144      -0.138
ar.L5            -0.1427      0.002    -89.492      0.000      -0.146      -0.140
sigma2          2.67e+04     38.594    691.925      0.000    2.66e+04    2.68e+04
===================================================================================
Ljung-Box (L1) (Q):                  41.97   Jarque-Bera (JB):           2932964.62
Prob(Q):                              0.00   Prob(JB):                         0.00
Heteroskedasticity (H):              15.29   Skew:                             0.24
Prob(H) (two-sided):                  0.00   Kurtosis:                        36.17
===================================================================================

RMSE: 4743.694608287663
MAE: 3652.593163925518

- 27/11/2024 20:18 - 👎 added closing lag variable 250 to feature set. Forecast appears to be worse so I will
not use this feature.
                               SARIMAX Results                                
==============================================================================
Dep. Variable:                  close   No. Observations:                63857
Model:                 ARIMA(5, 1, 0)   Log Likelihood             -415992.714
Date:                Wed, 27 Nov 2024   AIC                         832009.428
Time:                        20:13:54   BIC                         832118.201
Sample:                             0   HQIC                        832043.118
                              - 63857                                         
Covariance Type:                  opg                                         
=================================================================================
                    coef    std err          z      P>|z|      [0.025      0.975]
---------------------------------------------------------------------------------
close_lag_90      0.0097      0.002      5.955      0.000       0.007       0.013
close_lag_120     0.0089      0.002      5.531      0.000       0.006       0.012
close_lag_250    -0.0116      0.002     -6.924      0.000      -0.015      -0.008
MA_7              1.0444      0.004    286.016      0.000       1.037       1.052
MA_24            -0.1989      0.006    -32.697      0.000      -0.211      -0.187
volatility_24    -0.1100      0.005    -20.379      0.000      -0.121      -0.099
ar.L1            -0.0603      0.001    -42.566      0.000      -0.063      -0.058
ar.L2            -0.0868      0.001    -59.692      0.000      -0.090      -0.084
ar.L3            -0.0889      0.002    -57.462      0.000      -0.092      -0.086
ar.L4            -0.1419      0.001    -98.512      0.000      -0.145      -0.139
ar.L5            -0.1437      0.002    -89.987      0.000      -0.147      -0.141
sigma2         2.677e+04     38.751    690.851      0.000    2.67e+04    2.68e+04
===================================================================================
Ljung-Box (L1) (Q):                  43.05   Jarque-Bera (JB):           2917788.93
Prob(Q):                              0.00   Prob(JB):                         0.00
Heteroskedasticity (H):              15.22   Skew:                             0.25
Prob(H) (two-sided):                  0.00   Kurtosis:                        36.11
===================================================================================

RMSE 4319.896
MAE: 3341.377

RMSE and MAE up 🤔